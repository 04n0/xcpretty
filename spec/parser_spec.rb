require "xcpretty/parser"

module XCPretty


  describe Parser do
    
    it "parses compiling output" do
      subject.parse(
<<-EOS
CompileC /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTHTMLParser.o DTFoundation/Core/Source/DTHTMLParser/DTHTMLParser.m normal i386 objective-c com.apple.compilers.llvm.clang.1_0.compiler
    cd /Users/musalj/code/yammer/ios-chat/Pods
    setenv LANG en_US.US-ASCII
    setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/Users/musalj/.rbenv/versions/2.0.0-p247/bin:/usr/local/Cellar/rbenv/0.4.0/libexec:/Users/musalj/code/go/bin:/Users/musalj/.rbenv/shims:/Users/musalj/.rbenv/bin:/usr/local/share/npm/bin:/usr/local/bin:/Library/Python/2.7/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch i386 -fmessage-length=178 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -fcolor-diagnostics -std=gnu99 -fmodules -fmodules-cache-path=/Users/musalj/Library/Developer/Xcode/DerivedData/ModuleCache -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Werror=return-type -Wno-implicit-atomic-properties -Werror=deprecated-objc-isa-usage -Werror=objc-root-class -Wno-receiver-is-weak -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wunused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wconstant-conversion -Wint-conversion -Wbool-conversion -Wenum-conversion -Wshorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wundeclared-selector -Wno-deprecated-implementations -DDEBUG=1 -DCOCOAPODS=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk -fexceptions -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -g -Wno-sign-conversion -fobjc-abi-version=2 -fobjc-legacy-dispatch -mios-simulator-version-min=6.0 -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-generated-files.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-own-target-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-all-target-headers.hmap -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-project-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator/include -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders/DTFoundation -I/Users/musalj/code/yammer/ios-chat/Pods/Headers -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/ABContactHelper -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/AFNetworking -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CocoaLumberjack -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CrittercismSDK -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTCoreText -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTFoundation -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/HPGrowingTextView -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Kiwi -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Reachability -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SBJson -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SSKeychain -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/TITokenField -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamDrawReport -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamCore -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamData -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamSerf -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamUI -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKitTests -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/cometclient -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk/usr/include/libxml2 -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/DerivedSources/i386 -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/DerivedSources -F/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator -fobjc-arc -DOS_OBJECT_USE_OBJC=0 -include /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-DTFoundation-prefix-bakffbcvipwgglclplqvierkuzyi/Pods-DTFoundation-prefix.pch -MMD -MT dependencies -MF /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTHTMLParser.d --serialize-diagnostics /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTHTMLParser.dia -c /Users/musalj/code/yammer/ios-chat/Pods/DTFoundation/Core/Source/DTHTMLParser/DTHTMLParser.m -o /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTHTMLParser.o
EOS
      ).should == "Compiling DTHTMLParser.m"
    end

    it "parses another compiling output" do
      subject.parse(<<-EOS
CompileC /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTExtendedFileAttributes.o DTFoundation/Core/Source/DTExtendedFileAttributes.m normal i386 objective-c com.apple.compilers.llvm.clang.1_0.compiler
    cd /Users/musalj/code/yammer/ios-chat/Pods
    setenv LANG en_US.US-ASCII
    setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/Users/musalj/.rbenv/versions/2.0.0-p247/bin:/usr/local/Cellar/rbenv/0.4.0/libexec:/Users/musalj/code/go/bin:/Users/musalj/.rbenv/shims:/Users/musalj/.rbenv/bin:/usr/local/share/npm/bin:/usr/local/bin:/Library/Python/2.7/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch i386 -fmessage-length=178 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -fcolor-diagnostics -std=gnu99 -fmodules -fmodules-cache-path=/Users/musalj/Library/Developer/Xcode/DerivedData/ModuleCache -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Werror=return-type -Wno-implicit-atomic-properties -Werror=deprecated-objc-isa-usage -Werror=objc-root-class -Wno-receiver-is-weak -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wunused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wconstant-conversion -Wint-conversion -Wbool-conversion -Wenum-conversion -Wshorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wundeclared-selector -Wno-deprecated-implementations -DDEBUG=1 -DCOCOAPODS=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk -fexceptions -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -g -Wno-sign-conversion -fobjc-abi-version=2 -fobjc-legacy-dispatch -mios-simulator-version-min=6.0 -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-generated-files.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-own-target-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-all-target-headers.hmap -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Pods-DTFoundation-project-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator/include -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders/DTFoundation -I/Users/musalj/code/yammer/ios-chat/Pods/Headers -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/ABContactHelper -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/AFNetworking -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CocoaLumberjack -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CrittercismSDK -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTCoreText -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTFoundation -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/HPGrowingTextView -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Kiwi -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Reachability -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SBJson -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SSKeychain -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/TITokenField -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamDrawReport -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamCore -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamData -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamSerf -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamUI -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKitTests -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/cometclient -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk/usr/include/libxml2 -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/DerivedSources/i386 -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/DerivedSources -F/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator -fobjc-arc -DOS_OBJECT_USE_OBJC=0 -include /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-DTFoundation-prefix-bakffbcvipwgglclplqvierkuzyi/Pods-DTFoundation-prefix.pch -MMD -MT dependencies -MF /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTExtendedFileAttributes.d --serialize-diagnostics /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTExtendedFileAttributes.dia -c /Users/musalj/code/yammer/ios-chat/Pods/DTFoundation/Core/Source/DTExtendedFileAttributes.m -o /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-DTFoundation.build/Objects-normal/i386/DTExtendedFileAttributes.o
EOS
      ).should == "Compiling DTExtendedFileAttributes.m"
    end

    it "parses precompiling output" do
      subject.parse(
<<-EOS
ProcessPCH /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CocoaLumberjack-prefix-aklsecopvqdctoeroyamrkgktpei/Pods-CocoaLumberjack-prefix.pch.pch Pods-CocoaLumberjack-prefix.pch normal i386 objective-c com.apple.compilers.llvm.clang.1_0.compiler
    cd /Users/musalj/code/yammer/ios-chat/Pods
    setenv LANG en_US.US-ASCII
    setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/Users/musalj/.rbenv/versions/2.0.0-p247/bin:/usr/local/Cellar/rbenv/0.4.0/libexec:/Users/musalj/code/go/bin:/Users/musalj/.rbenv/shims:/Users/musalj/.rbenv/bin:/usr/local/share/npm/bin:/usr/local/bin:/Library/Python/2.7/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c-header -arch i386 -fmessage-length=178 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -fcolor-diagnostics -std=gnu99 -fmodules -fmodules-cache-path=/Users/musalj/Library/Developer/Xcode/DerivedData/ModuleCache -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Werror=return-type -Wno-implicit-atomic-properties -Werror=deprecated-objc-isa-usage -Werror=objc-root-class -Wno-receiver-is-weak -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wunused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wconstant-conversion -Wint-conversion -Wbool-conversion -Wenum-conversion -Wshorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wundeclared-selector -Wno-deprecated-implementations -DDEBUG=1 -DCOCOAPODS=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk -fexceptions -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -g -Wno-sign-conversion -fobjc-abi-version=2 -fobjc-legacy-dispatch -mios-simulator-version-min=6.0 -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CocoaLumberjack.build/Pods-CocoaLumberjack-generated-files.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CocoaLumberjack.build/Pods-CocoaLumberjack-own-target-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CocoaLumberjack.build/Pods-CocoaLumberjack-all-target-headers.hmap -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CocoaLumberjack.build/Pods-CocoaLumberjack-project-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator/include -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders/CocoaLumberjack -I/Users/musalj/code/yammer/ios-chat/Pods/Headers -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/ABContactHelper -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/AFNetworking -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CocoaLumberjack -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CrittercismSDK -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTCoreText -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTFoundation -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/HPGrowingTextView -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Kiwi -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Reachability -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SBJson -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SSKeychain -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/TITokenField -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamDrawReport -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamCore -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamData -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamSerf -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamUI -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKitTests -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/cometclient -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CocoaLumberjack.build/DerivedSources/i386 -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CocoaLumberjack.build/DerivedSources -F/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator -fobjc-arc -DOS_OBJECT_USE_OBJC=0 --serialize-diagnostics /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CocoaLumberjack-prefix-aklsecopvqdctoeroyamrkgktpei/Pods-CocoaLumberjack-prefix.pch.dia -MMD -MT dependencies -MF /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CocoaLumberjack-prefix-aklsecopvqdctoeroyamrkgktpei/Pods-CocoaLumberjack-prefix.pch.d -c /Users/musalj/code/yammer/ios-chat/Pods/Pods-CocoaLumberjack-prefix.pch -o /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CocoaLumberjack-prefix-aklsecopvqdctoeroyamrkgktpei/Pods-CocoaLumberjack-prefix.pch.pch    
EOS
      ).should == "Precompiling Pods-CocoaLumberjack-prefix.pch"
    end
  
    it "parses another precompiling output" do
      subject.parse(
<<-EOS
ProcessPCH /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CrittercismSDK-prefix-ayqymsvxomizqsdqzftsirxxyful/Pods-CrittercismSDK-prefix.pch.pch Pods-CrittercismSDK-prefix.pch normal i386 objective-c com.apple.compilers.llvm.clang.1_0.compiler
    cd /Users/musalj/code/yammer/ios-chat/Pods
    setenv LANG en_US.US-ASCII
    setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/Users/musalj/.rbenv/versions/2.0.0-p247/bin:/usr/local/Cellar/rbenv/0.4.0/libexec:/Users/musalj/code/go/bin:/Users/musalj/.rbenv/shims:/Users/musalj/.rbenv/bin:/usr/local/share/npm/bin:/usr/local/bin:/Library/Python/2.7/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c-header -arch i386 -fmessage-length=178 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -fcolor-diagnostics -std=gnu99 -fmodules -fmodules-cache-path=/Users/musalj/Library/Developer/Xcode/DerivedData/ModuleCache -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Werror=return-type -Wno-implicit-atomic-properties -Werror=deprecated-objc-isa-usage -Werror=objc-root-class -Wno-receiver-is-weak -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wunused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wconstant-conversion -Wint-conversion -Wbool-conversion -Wenum-conversion -Wshorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wundeclared-selector -Wno-deprecated-implementations -DDEBUG=1 -DCOCOAPODS=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk -fexceptions -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -g -Wno-sign-conversion -fobjc-abi-version=2 -fobjc-legacy-dispatch -mios-simulator-version-min=6.0 -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CrittercismSDK.build/Pods-CrittercismSDK-generated-files.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CrittercismSDK.build/Pods-CrittercismSDK-own-target-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CrittercismSDK.build/Pods-CrittercismSDK-all-target-headers.hmap -iquote /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CrittercismSDK.build/Pods-CrittercismSDK-project-headers.hmap -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator/include -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders -I/Users/musalj/code/yammer/ios-chat/Pods/BuildHeaders/CrittercismSDK -I/Users/musalj/code/yammer/ios-chat/Pods/Headers -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/ABContactHelper -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/AFNetworking -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CocoaLumberjack -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/CrittercismSDK -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTCoreText -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/DTFoundation -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/HPGrowingTextView -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Kiwi -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MAKVONotificationCenter/MAKVONotificationCenter -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/MBSwitch/MBSwitch -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/Reachability -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SBJson -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/SSKeychain -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/TITokenField -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamDrawReport -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamCore -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamData -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamSerf -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKit/YamUI -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/YamKitTests -I/Users/musalj/code/yammer/ios-chat/Pods/Headers/cometclient -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CrittercismSDK.build/DerivedSources/i386 -I/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/Pods.build/Debug-iphonesimulator/Pods-CrittercismSDK.build/DerivedSources -F/Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Products/Debug-iphonesimulator --serialize-diagnostics /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CrittercismSDK-prefix-ayqymsvxomizqsdqzftsirxxyful/Pods-CrittercismSDK-prefix.pch.dia -MMD -MT dependencies -MF /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CrittercismSDK-prefix-ayqymsvxomizqsdqzftsirxxyful/Pods-CrittercismSDK-prefix.pch.d -c /Users/musalj/code/yammer/ios-chat/Pods/Pods-CrittercismSDK-prefix.pch -o /Users/musalj/Library/Developer/Xcode/DerivedData/YammerNow-gxwwuvyzqubnbfaesalfplrycxpe/Build/Intermediates/PrecompiledHeaders/Pods-CrittercismSDK-prefix-ayqymsvxomizqsdqzftsirxxyful/Pods-CrittercismSDK-prefix.pch.pch
EOS
      ).should == "Precompiling Pods-CrittercismSDK-prefix.pch"
    end

    it "parses clean output" do
      subject.parse(
<<-EOS
Clean.Remove clean /Users/musalj/Library/Developer/Xcode/DerivedData/ObjectiveSugar-ayzdhqmmwtqgysdpznmovjlupqjy/Build/Intermediates/ObjectiveSugar.build/Debug-iphonesimulator/ObjectiveSugarTests.build
    builtin-rm -rf /Users/musalj/Library/Developer/Xcode/DerivedData/ObjectiveSugar-ayzdhqmmwtqgysdpznmovjlupqjy/Build/Intermediates/ObjectiveSugar.build/Debug-iphonesimulator/ObjectiveSugarTests.build
EOS
      ).should == ""
    end

    it "kills 'Check dependencies'" do
      subject.parse("Check dependencies").should == ""
    end
  
    it "parses clean target/project/configuration" do
            subject.parse(
<<-EOS
=== CLEAN TARGET Pods-ObjectiveSugar OF PROJECT Pods WITH CONFIGURATION Debug ===
EOS
      ).should == "Cleaning Pods/ObjectiveSugar [Debug]"
    end

    it "parses clean target/project/configuration with nested pods" do
            subject.parse(
<<-EOS
=== CLEAN TARGET Pods-ObjectiveSugarTests-Kiwi OF PROJECT Pods WITH CONFIGURATION Debug ===
EOS
      ).should == "Cleaning Pods/Kiwi [Debug]"
    end
  end

end
